!function($){"use strict";var a=function(a,b){this.hParam=$.extend({},$.fn.PLPgallery.defaults,b),this.jContainer=$(a),this.jImage=this.jContainer.find(this.hParam.image),this.jTrigger=this.jContainer.find(this.hParam.trigger),this.jButtonOver=this.jContainer.find(this.hParam.buttonOver),this.lockLoad=!1,this.timerRotate=null,this.init()};a.prototype={constructor:a,init:function(){this.initEvents()},initEvents:function(){var a=this;this.jTrigger.on("click",function(){var b=$(this),c=b.children(),d=c.data("src");b.hasClass(a.hParam.activeClass)||a.lockLoad||(a.loader("show"),b.addClass(a.hParam.activeClass).siblings().removeClass(a.hParam.activeClass),a.changeImage(d),a.lockLoad=!0)}),Modernizr.touch?this.jContainer.swipe({swipe:function(b,c,d,e,f,g){var h=a.rotateAround(c);h&&h.trigger("click")},excludedElements:"button, input, select, textarea, .noSwipe",allowPageScroll:"vertical",triggerOnTouchEnd:!0,threshold:15}):(this.jContainer.on("mouseleave",function(){a.jTrigger.eq(0).trigger("click")}),this.jButtonOver.on("mouseover mousemove",function(b){var c=$(this),d=(c.width()-2*a.hParam.zoneOverOffset)/a.jTrigger.length,e=Math.floor(b.offsetX/d);clearInterval(a.timerRotate),b.offsetX>a.hParam.zoneOverOffset&&b.offsetX<c.width()-a.hParam.zoneOverOffset&&(a.timerRotate=setInterval(function(){a.jTrigger.eq(e).trigger("click")},a.hParam.rotateInterval))}).on("mouseout",function(){clearInterval(a.timerRotate)})),this.jImage.on("load",function(){$(this);a.lockLoad=!1})},rotateAround:function(a){var b=this.jTrigger.filter("."+this.hParam.activeClass),c=null;switch(a){case"right":c=b.next().length?b.next():this.jTrigger.first();break;case"left":c=b.prev().length?b.prev():this.jTrigger.last()}return c},changeImage:function(a){this.jImage.attr("src",a)},loader:function(a){switch(a){case"show":this.jContainer.addClass("loader");break;case"hide":this.jContainer.removeClass("loader")}}},$.fn.PLPgallery=function(b){var c=$(this),d=c.data("PLPgallery"),e="object"==typeof b&&b;return this.each(function(){return $.data(this,"PLPgallery")||$.data(this,"PLPgallery",d=new a(this,e)),"string"==typeof b&&d[b](),this})},$.fn.PLPgallery.defaults={image:".js-plp-carusel-image",trigger:".js-plp-carusel-trigger",buttonOver:".js-plp-carusel-over",activeClass:"active",rotateInterval:10,zoneOverOffset:20},$.fn.PLPgallery.constructor=a}(jQuery);